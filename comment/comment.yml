name: action-jira-comment

description: Post A Comment In A JIRA Ticket

inputs:
  ticket-id:
    description: Ticket ID
    required: true
    type: string
  comment:
    description: Actual Comment
    required: true
    type: string
  jira-username:
    description: Username Of JIRA Account
    required: true
    type: string
  jira-token:
    description: API Token
    required: true
    type: string
  jira-base-url:
    description: Base URL Of JIRA Instance
    required: true
    type: string

outputs:
  ticket-exists:
    description: If Ticket Exists
    value: ${{steps.check-ticket.outputs.exists}}

runs:
  using: composite
  steps:
    - name: Check If Ticket Exists
      id: check-ticket
      shell: bash
      env:
        JIRA_USER_EMAIL: ${{inputs.jira-username}}
        JIRA_API_TOKEN: ${{inputs.jira-token}}
        JIRA_BASE_URL: ${{inputs.jira-base-url}}
        TICKET_ID: ${{inputs.ticket-id}}
      run: ${{github.action_path}}/../scripts/check-ticket.sh "$TICKET_ID"
